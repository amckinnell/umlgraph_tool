.PS
copy "sequence.pic";

boxht = 0.4
boxwid = 2.5
movewid = .25
maxpswid = 22

# ---------------------------------------------------------
# Object definition

pobject(E,"External Messages");

# CodeGenerationController
object(C,"c:CodeGenerationController");

# Drivers::ProductionParameters
placeholder_object(P);

# MaterialsValidationConfig
placeholder_object(M);

# Drivers::ProductionProvider
object(X,"pp:ProductionProvider");

# CodeGenerationService
object(S,"cgs:CodeGenerationService");

# RuleService
object(R,"rs:RuleService");

# Rule
object(Y,"r:Rule");

# ---------------------------------------------------------
# Message exchange

step();
step();
active(C);
active(X);
active(S);
active(R);
step();
message(E,C,"request(params)");

create_message(C,P,"p:ProductionParameters");
active(P);
active(Y);

create_message(C,M,"m:MaterialsValidationConfig");
active(M);

message(C,S,"generate_lot_code(p, pp, m)");
message(S,P,"rule()");
return_message(P,S,"aRule");
message(S,R,"generate_lot_code(rule,drivers)");

# ---------------------------------------------------------
# Object liefetime completion

step();
complete(C);
complete(P);
complete(M);
complete(S);
complete(X);
complete(R);

.PE
