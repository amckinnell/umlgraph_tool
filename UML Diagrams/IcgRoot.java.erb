/** @hidden */
  public class IcgRoot {}

/**
 * @opt attributes
 * @opt operations
 * @hidden
 */
class UMLOptions {}


// --------------------------------------------------------------------------------------------------------------------
// Application Entry Point

/**
 * @depend - - - CodeGenerationService
 * <%= node_fill_color :base %>
 */
class CodeGenerationController {
  void generate_lot_code() {}
  void generate_expiry_date() {}
}

/**
 * @depend - - - MaterialsValidationConfig
 * @depend - - - MaterialsValidationService
 * @depend - - - ProductionParameters
 * @depend - - - ProductionProvider
 * @depend - - - RuleService
 * <%= node_fill_color :base %>
 */
class CodeGenerationService {}

/**
 * @has - - - Customer
 * <%= node_fill_color :base %>
 */
class MaterialsValidationConfig {}

/**
 * @has - - - Driver
 * @depend - - - MfgDatesInterpreter
 * <%= node_fill_color :base %>
 */
class ProductionProvider {}

/**
 * @depend - - - ReferenceDataTable
 * <%= node_fill_color :base %>
 */
class ReferenceData {}

/**
 * @depend - - - ReferenceData
 * @depend - - - Rule
 * <%= node_fill_color :base %>
 */
class RuleService {}

/**
 * @depend - - - MfgDatesInterpreter
 * @depend - - - ValidationPipeline
 * <%= node_fill_color :base %>
 */
class ValidatingMaterials {}

/**
 * @depend - - - ValidatingMaterials
 * <%= node_fill_color :base %>
 */
class MaterialsValidationService {}


// --------------------------------------------------------------------------------------------------------------------
// Drivers

/**
 * @has - - - Rule
 * @depend - creates - Scope
 * <%= node_fill_color :drivers %>
 */
class ProductionParameters {}

/**
 * <%= node_fill_color :drivers %>
 */
class Driver {}

/**
 * <%= show :concrete_drivers %>
 * <%= node_fill_color :drivers %>
 */
class EarliestMfgDateDriver extends Driver {}

/**
 * <%= show :concrete_drivers %>
 * <%= node_fill_color :drivers %>
 */
class LineDriver extends Driver {}

/**
 * <%= show :concrete_drivers %>
 * <%= node_fill_color :drivers %>
 */
class ManufacturingOriginDriver extends Driver {}

/**
 * <%= show :concrete_drivers %>
 * <%= node_fill_color :drivers %>
 */
class ProductionDateDriver extends Driver {}

/**
 * <%= show :concrete_drivers %>
 * <%= node_fill_color :drivers %>
 */
class SampleManufacturingOriginDriver extends Driver {}

/**
 * <%= show :concrete_drivers %>
 * <%= node_fill_color :drivers %>
 */
class SampleMfgDateDriver extends Driver {}

/**
 * <%= show :concrete_drivers %>
 * <%= node_fill_color :drivers %>
 */
class ShiftDriver extends Driver {}

/**
 * <%= show :concrete_drivers %>
 * <%= node_fill_color :drivers %>
 */
class ShortestShelfLifeDriver extends Driver {}

/**
 * <%= show :concrete_drivers %>
 * <%= node_fill_color :drivers %>
 */
class SiteDriver extends Driver {}


// --------------------------------------------------------------------------------------------------------------------
// Interpreters

/**
 * <%= show :concrete_validators %>
 * <%= node_fill_color :interpreters %>
 */class ExpiryDateInterpreter {}

/**
 * <%= node_fill_color :interpreters %>
 */class MfgDatesInterpreter {}

/**
 * <%= show :concrete_validators %>
 * <%= node_fill_color :interpreters %>
 */
class MfgOriginInterpreter {}


// --------------------------------------------------------------------------------------------------------------------
// Reference Data (< ActiveRecord::Base)

/**
 * <%= node_fill_color :rules %>
 */
class ReferenceDataField {}

/**
 * <%= node_fill_color :rules %>
 */
class ReferenceDataRow {}

/**
 * @composed - - - ReferenceDataField
 * @composed - - - ReferenceDataRow
 * <%= node_fill_color :rules %>
 */
class ReferenceDataTable {}


// --------------------------------------------------------------------------------------------------------------------
// Rules (< ActiveRecord::Base)

/**
 * <%= node_fill_color :rules %>
 */
class Rule {}

/**
 * @composed_HIDE  - - - RuleFragment
 * <%= node_fill_color :rules %>
 */
class GenerateExpiryRule extends Rule {}

/**
 * @composed  - - - RuleFragment
 * <%= node_fill_color :rules %>
 */
class GenerateLotRule extends Rule {}

/**
 * @composed_HIDE  - - - RuleFragment
 * <%= node_fill_color :rules %>
 */
class InterpretExpiryRule extends Rule {}

/**
 * @composed  - - - RuleFragment
 * <%= node_fill_color :rules %>
 */
class InterpretLotRule extends Rule {}

/**
 * @depend - - - Driver
 * @depend - - - ReferenceDataTable
 * @depend - - - ReferenceDataField
 * <%= node_fill_color :rules %>
 */
class RuleFragment {}


// --------------------------------------------------------------------------------------------------------------------
// Scopes

/**
 * <%= node_fill_color :scopes %>
 */
class Scope {
  void qualified_items() {}
}

/**
 * <%= show :concrete_scopes %>
 * <%= node_fill_color :scopes %>
 */
class JobLotsExpiriesScope extends Scope {}

/**
 * <%= show :concrete_scopes %>
 * <%= node_fill_color :scopes %>
 */
class MovePlanScope extends Scope {}

/**
 * <%= show :concrete_scopes %>
 * <%= node_fill_color :scopes %>
 */
class MovesScope extends Scope {}

/**
 * <%= show :concrete_scopes %>
 * <%= node_fill_color :scopes %>
 */
class PickListCandidateScope extends Scope {}

/**
 * <%= show :concrete_scopes %>
 * <%= node_fill_color :scopes %>
 */
class PickListsScope extends Scope {}


// --------------------------------------------------------------------------------------------------------------------

/**
 * @depend - - - Wizard
 * <%= show :wizard %>
 * <%= node_fill_color :base %>
 */
class RuleWizardController {
  void show() {}
  void transition() {}
}

/**
 * @depend - - - Transition
 * <%= show :wizard %>
 * <%= node_fill_color :transitions %>
 */
class Wizard {}

/**
 * <%= show :wizard %>
 * <%= node_fill_color :transitions %>
 * @stereotype Icg::Rule::State::Spec
 */
class Transition {}

/**
 * <%= show :wizard %>
 * <%= node_fill_color :transitions %>
 */
class GenerateExpiryTransition extends Transition {}

/**
 * <%= show :wizard %>
 * <%= node_fill_color :transitions %>
 */
class GenerateLotTransition extends Transition {}

/**
 * <%= show :wizard %>
 * <%= node_fill_color :transitions %>
 */
class InterpretExpiryTransition extends Transition {}

/**
 * <%= show :wizard %>
 * <%= node_fill_color :transitions %>
 */
class InterpretLotTransition extends Transition {}


// --------------------------------------------------------------------------------------------------------------------
// Validations
//
// Note: concrete validators hidden for the moment.

/**
 * <%= show :concrete_validators %>
 * <%= node_fill_color :validators %>
 */
class CanInterpretMfgDateValidator {}

/**
 * <%= show :concrete_validators %>
 * <%= node_fill_color :validators %>
 */
class CanRunValidations {}

/**
 * <%= show :concrete_validators %>
 * <%= node_fill_color :validators %>
 */
class ExpiryDateParsingValidator {}

/**
 * @depend - - - ExpiryDateInterpreter
 * <%= show :concrete_validators %>
 * <%= node_fill_color :validators %>
 */
class ExpiryDateRangeValidator {}

/**
 * <%= show :concrete_validators %>
 * <%= node_fill_color :validators %>
 */
class ExpiryDateValidator {}

/**
 * @depend - - - ExpiryDateInterpreter
 * <%= show :concrete_validators %>
 * <%= node_fill_color :validators %>
 */
class FinishedGoodProductionDateLimitValidator {}

/**
 * @depend - - - MfgOriginInterpreter
 * <%= show :concrete_validators %>
 * <%= node_fill_color :validators %>
 */
class ManufacturingOriginValidator {}

/**
 * <%= show :concrete_validators %>
 * <%= node_fill_color :validators %>
 */
class PickStrategyValidator {}

/**
 * <%= show :concrete_validators %>
 * <%= node_fill_color :validators %>
 */
class QualifiedItemsPresenceValidator {}

/**
 * <%= show :concrete_validators %>
 * <%= node_fill_color :validators %>
 */
class ShelfLifeValidator {}

/**
 * <%= show :concrete_validators %>
 * <%= node_fill_color :validators %>
 */
class StopShipDateRangeValidator {}

/**
 * <%= show :concrete_validators %>
 * <%= node_fill_color :validators %>
 */
class StopShipDateValidator {}

/**
 * <%= show :concrete_validators %>
 * <%= node_fill_color :validators %>
 */
class StopShipLimitValidator {}

/**
 * @depend - - - CanInterpretMfgDateValidator
 * @depend - - - CanRunValidations
 * @depend - - - ExpiryDateParsingValidator
 * @depend - - - ExpiryDateRangeValidator
 * @depend - - - ExpiryDateValidator
 * @depend - - - FinishedGoodProductionDateLimitValidator
 * @depend - - - ManufacturingOriginValidator
 * @depend - - - PickStrategyValidator
 * @depend - - - QualifiedItemsPresenceValidator
 * @depend - - - ShelfLifeValidator
 * @depend - - - StopShipDateRangeValidator
 * @depend - - - StopShipDateValidator
 * @depend - - - StopShipLimitValidator
 * <%= node_fill_color :validators %>
 */
class ValidationPipeline {}


// --------------------------------------------------------------------------------------------------------------------
// Data Synching
//
// Note: hiding the dependency on the observed models.

/**
 * @depend - - - ReferenceDataRow
 * <%= node_fill_color :sync %>
 */
class ReferenceDataSyncer {}

/**
 * @depend - - - ReferenceDataSyncer
 * @depend_HIDE - observes - Line
 * <%= show :sync_details %>
 * <%= node_fill_color :sync %>
 */
class LineObserver {}

/**
 * @depend - - - ReferenceDataSyncer
 * @depend_HIDE - observes - Shift
 * <%= show :sync_details %>
 * <%= node_fill_color :sync %>
 */
class ShiftObserver {}

/**
 * @depend - - - ReferenceDataSyncer
 * @depend_HIDE - observes - Site
 * <%= show :sync_details %>
 * <%= node_fill_color :sync %>
 */
class SiteObserver {}

/**
 * @depend - - - ReferenceDataSyncer
 * <%= show :sync_details %>
 * <%= node_fill_color :sync %>
 */
class TableBuilderService {}


// --------------------------------------------------------------------------------------------------------------------
// Domain Master

/**
 * @composed - - - Customer
 * @composed - - - Site
 * <%= node_fill_color :domain %>
 */
class Account {}

/**
 * @composed - - - ReferenceDataTable
 * @composed - - - Rule
 * <%= node_fill_color :domain %>
 */
class Customer {}

/**
 * <%= node_fill_color :domain %>
 */
class Line {}

/**
 * <%= node_fill_color :domain %>
 */
class Shift {}

/**
 * @composed - - - Line
 * @composed - - - Shift
 * <%= node_fill_color :domain %>
 */
class Site {}
